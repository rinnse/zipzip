<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <!-- í—¤ë” ì‹œì‘ -->
    <div th:replace="/common/header :: header"></div>
    <!-- í—¤ë” ë -->

    <!-- ê°œë³„ css -->
    <style type="text/css">

      .board-Page-container {
         display: flex;
         position: relative;
         justify-content: center;
         align-items: center;
         min-height: 565px;
         width: 100%;
      }
      .board-container {
         display: flex;
         position: relative;
         justify-content: center;
         align-items: center;
         min-height: 500px;
         width:96%;
         border-radius: 10px;
         margin-bottom: 1.5%;
         background-color: #fffff;
          box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.08);
         margin-top:-8px;
      }

        .board-content-container {
           background-color: #fff;      /*fafafa*/
            display: flex;
          position: relative;
          justify-content: center;
          align-items: center;
          height: 50%;
          width: 70%;
          margin-top: 30px;
          margin-bottom: 30px;
          flex-direction: column;
/*           box-shadow:  0px 0px 10px rgba(0, 0, 0, 0.2); /*  */ */
        }
        
        .title-container {
           margin-top:50px;
           margin-bottom:30px;
           font-size:35px;
           font-weight:bold;
           color:#3d3d3d;
        }
        
        .form-container {
           display: flex;
           width:90%;
           margin-top:10px;
           flex-direction: column;
          justify-content: center;
        }        
        .info-container {
           display: flex;
           width:100%;
           margin-top:10px;
           flex-direction: column;
          justify-content: center;
        }

        .label-write {
            font-weight: bold;
            float:left;
        }
        
      input:focus, input[type="number"]:focus {
         border: 1px solid darkgreen;
            outline: none;
        }
        .input-text {
            width: 50%;
            padding: 8px;
            margin-top: 5px;
            margin-bottom: 10px;
            margin-right: 10px;
            border: 1px solid #ccc;
            border-radius: 3px;
        }
        .input-add {
            width: 70%;
            padding: 8px;
            margin-top: 5px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 3px;       
        }
        input[type="number"] {
            width: 150px;
            padding: 5px 7px;
            margin-top: 5px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 3px;
/*             outline: none; */
        }
        
        input[type="radio"]:checked + label {
          font-weight: bold;
          color: #5066a5; 
      }
      input[type="radio"] + label {
          margin-left:5px;
          margin-right: 20px;
      }
     [type="radio"] {
        appearance: none;
        width: 15px;
        height: 15px;
        box-shadow: 0 0 0 1px #ccc;
        border-radius: 50%;
      }
      [type="radio"]:checked {
        width: 15px;
        height: 15px;
        background-color: #5066a5;
        box-shadow: 0 0 0 2px #5066a5;
        border: 4px solid white;
        border-radius: 50%;
      }
        
        textarea{
           display: flex;
         border: 1px solid lightgray;
         border-radius:3px;
         outline:none;
         padding:10px;
         margin-top: 5px;
            margin-bottom: 10px;
            margin-right: 10px;
      }
      textarea:focus{
         border: 1px solid darkgreen;
         outline:none;
      }

        .button-container {
           width:90%;
           margin-top:30px;
           margin-bottom:30px;
            text-align: right;
            /* ë²„íŠ¼ì„ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì •ë ¬ */
        }

        .submit-button {
            background-color: gray;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        submit-button[type="submit"]:hover {
            background-color: #0056b3;
        }
        .itemFile-button {
           background-color:#fff;
           color: darkgray;
           border: 1px solid lightgray;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
        }
        
        hr{
           width:100%;
           border: 2px solid gray;
        }
        .stitle {
           display:flex;
           float:left;
           font-weight: bold;
           font-size:20px;
           color:darkgreen;
           margin-top:50px;
        }
        
        th, td {
            border: 1px solid lightgray;
            padding: 8px;
            text-align: center;
        }
        .td-title {
           background-color:#fafafa;
           width:150px;
           border-left: none;
           font-weight:bold;
        }
        .td-content {
           text-align: left; /* ë‚´ìš©ì„ ì™¼ìª½ ì •ë ¬ */
           padding: 20px;
           border-right: none;
        }
        .td-content-text {
           margin-right:10px;
        }
        .td-content-price {
           padding: 10px;
            text-align: left; /* ë‚´ìš©ì„ ì™¼ìª½ ì •ë ¬ */
           border-right: none;
        }
        .td-content-labelInfo {
           font-weight: bold;
        }

        /* ì˜µì…˜ ì»¨í…Œì´ë„ˆ */
        .option-container {
            display: flex;
            flex-wrap: wrap; /* ìš”ì†Œë“¤ì´ ë„˜ì¹  ê²½ìš° ìë™ìœ¼ë¡œ ì¤„ë°”ê¿ˆ */
            justify-content: space-between; /* ìš”ì†Œë“¤ ì‚¬ì´ì˜ ê°„ê²©ì„ ê· ë“±í•˜ê²Œ ë°°ì¹˜ */
            width: 80%; 
        }
        /* ì˜µì…˜ ì•„ì´í…œ */
        .option-item {
            flex-basis: 23%; /* ìš”ì†Œì˜ ì´ˆê¸° í¬ê¸° ì„¤ì • */
            margin-bottom: 10px; 
        }
        
        #fileView{
           display: flex;
         width: 100%;
         min-height:150px;
         margin-top:20px;
         padding:10px;
         border:1px dotted darkgray;
         border-radius:3px;
      }
      #fileView:empty:before{
         content : attr(data-placeholder);
         color : #999;
         font-size:.9em;
      }
      #preview{
          width: 100%;
          margin-left: 20px;
      }
      
      #Preview li{
          float:left
      }
      #preview li{
         display: inline-flex;;
         width:150px;
         height:120px;
         color:#fafafa;
          margin: 10px;
          position: relative;
          border: 1px solid #ececec;
          cursor:move;
      }
      
      .delBtn{
          position: absolute;
          top: 0;
          right: 0;
          font-size: 13px;
          background-color: #000;
          color: #fff;
          width: 18px;
          height: 18px;
          line-height: 16px;
          display: inline-block;
          text-align: center;
          cursor: pointer;
      }
      
      .itemMoveAvbl-container{
         margin-left:30px;
      }
      .star{
         margin-left:5px;
         color:#1b52d1;
         font-weight:bold;
      }
      .placeholde-show {
         position:absolute;
         margin-left: -29%;
         margin-top: 15px;
         color: gray;
      }
      .guide {
          color:gray;
          font-size:12px;
      }
      
      #mapDiv{
         width:300px;
         height:250px;
         border-radius:5px;
         border:2px solid lightgray;
      }

    </style>
</head>

<body>
    <!-- ë„¤ë¹„ ì‹œì‘ -->
    <div th:replace="/common/nav :: nav"></div>
    <!-- ë„¤ë¹„ ë -->

    <!-- ë³¸ë¬¸ ì‹œì‘ -->
        <div style="height: 13vh;"></div>

        <div class="board-Page-container">
            <div class="board-container">
                <!-- ê²Œì‹œíŒ ì „ì²´ ë‚´ìš© div -->
                <div class="board-content-container">  <!--  th:if="${user != null}" -->
                   <div class="title-container">ğŸ’š ë§¤ë¬¼ ë“±ë¡ ğŸ’š</div>
                   
                   <div style="color:gray">ì£¼ì†Œë¥¼ ë‹¤ë¥´ê²Œ ì…ë ¥í•  ê²½ìš° í—ˆìœ„ë§¤ë¬¼ë¡œ ì‹ ê³ ë  ìˆ˜ ìˆìœ¼ë‹ˆ ê¼­ ë™ì¼í•˜ê²Œ ì…ë ¥ ë°”ëë‹ˆë‹¤.</div>
                   <div style="color:gray">ì „/ì›”ì„¸/ë§¤ë§¤ ë§¤ë¬¼ë§Œ ë“±ë¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div> <!-- style="width:100%;text-align: left;" -->
                   <div class="star">* <span style="color:black;">í•„ìˆ˜ ì…ë ¥ í•­ëª©</span></div>
               <!--ë“±ë¡í•œ ë§¤ë¬¼ì€ 30ì¼ ê°„ ë…¸ì¶œë©ë‹ˆë‹¤. -->

<!--                     <label class="label-write" for="title">ì¤‘ê°œì¸ ì´ë¦„</label> -->
<!--                     <input type="text" id="boardWriter" name="boardWriter"  readonly> th:value="${user.userId}" -->
<form id="itemRegForm" name="itemRegForm" method="post" enctype='multipart/form-data' class="form-container" >                
                   <div class="info-container">
                      <label class="stitle">ë§¤ë¬¼ ì •ë³´ ğŸ”</label> 
                      <hr>
                       
                       <table>
                      <tr>
                          <td class="td-title">
                             <div>ë§¤ë¬¼ ì†Œê°œ<span class="star">*</span></div>
                          </td>
                          <td class="td-content" colspan="3">
                           <label for="itemNamer">ë§¤ë¬¼ ì´ë¦„</label><br>
                             <input type="text" id="itemName" name="itemName" maxlength="30" class="input-text">
                             <div class="guide">ìµœëŒ€ 30ê¸€ìê¹Œì§€ë§Œ ì…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.</div><br>
                             
                           <label for="itemIntro">ë§¤ë¬¼ ì„¤ëª…</label><br/>
                             <textarea id="itemIntro" name="itemIntro" rows="3" cols="100" maxlength="100"></textarea>
                             <div class="guide">ìµœëŒ€ 100ê¸€ìê¹Œì§€ë§Œ ì…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.</div><br>
                     
                             <label for="itemIntroDetail">ë§¤ë¬¼ ìƒì„¸ ì„¤ëª…</label><br>
                             <textarea id="itemIntroDetail" name="itemIntroDetail" rows="8" cols="100"></textarea><br>   
                        </td>
                      </tr>
                      <tr>
                          <td class="td-title">ë§¤ë¬¼ ìœ í˜•<span class="star">*</span></td>
                          <td class="td-content" colspan="3">
                             <input type="radio" id="monthly" name="itemItype" value="O">
                             <label for="monthly" style="margin-right:20px;">ì›ë£¸</label>
                             
                             <input type="radio" id="twoRoom" name="itemItype" value="T">
                             <label for="twoRoom" style="margin-right:20px;">íˆ¬ë£¸</label>
                             
                             <input type="radio" id="officetel" name="itemItype" value="F">
                             <label for="officetel" style="margin-right:20px;">ì˜¤í”¼ìŠ¤í…”</label>
                             
                             <input type="radio" id="apartment" name="itemItype" value="A">
                             <label for="apartment" style="margin-right:20px;">ì•„íŒŒíŠ¸</label>
                        </td>
                      </tr>
                      <tr>
                          <td class="td-title">ë§¤ë¬¼ í¬ê¸°<span class="star">*</span></td>
                          <td class="td-content" colspan="3">
                           ë©´ì  <input id="itemArea" name="itemArea" type="number"> mÂ²
                        </td>
                      </tr>
                      <tr>
                          <td class="td-title">ë§¤ë¬¼ ì£¼ì†Œ<span class="star">*</span></td>
                          <td class="td-content" colspan="2">
                             <div>ì£¼ì†Œ</div>
                             <input type="text" id="itemAddress" name="itemAddress" class="input-add" readonly> <!-- readonly -->
                             <span class="placeholde-show" id="placeholde-show">ì£¼ì†Œë¥¼ ê²€ìƒ‰ í›„ ì„ íƒí•´ì£¼ì„¸ìš”.</span>
                             <button type="button" id="btnSearch" class="submit-button">ê²€ìƒ‰</button> <!-- onclick="fn_addressToMap()"  -->
                             <div>
                                <div>ìƒì„¸ ì£¼ì†Œ</div>
                                <input type="text" id="itemAddressDetail" name="itemAddressDetail" class="input-add" maxlength="45">
                                <div>í•´ë‹¹ ì¸µ</div>
                                <input type="number" id="itemFloor" name="itemFloor"> ì¸µ (-1:ë°˜ì§€í•˜, 0:ì˜¥íƒ‘)
                             </div>
                        </td>
                        
                        <td class="td-content" style="border-left:none">
                           <div id="mapDiv">ì§€ë„</div>
                        </td>
                      </tr>
                      <tr>
                          <td class="td-title">ì¤€ê³µ ì¼ì<span class="star">*</span></td>
                          <td class="td-content" style="width:38%;">
                             <input type="text" id="itemBuildDate" name="itemBuildDate" class="input-text" placeholder="YYYYMMDD" readonly>
                          </td>
                          <td style="width:13%;font-weight:bold;">ë°©í–¥</td> 
                          <td class="td-content">
                             <input type="text" id="itemDirection" name="itemDirection" class="input-text">
                             <span> ex) ë‚¨í–¥, ë‚¨ë™í–¥, ë™í–¥ ë“±</span>
                          </td>
                      </tr>
                      <tr>
                          <td class="td-title">ìš©ë„ë³„ ê±´ì¶•ë¬¼ì˜<br/> ì¢…ë¥˜ ë¶„ë¥˜<span class="star">*</span></td>
                          <td class="td-content" colspan="3">
                             <input type="text" id="itemKind" name="itemKind" class="input-text" maxlength="40">&nbsp; 
                             ex. ë‹¨ë…ì£¼íƒ, ë‹¤ê°€êµ¬ì£¼íƒ, ìƒê°€ì£¼íƒ, ë‹¤ì„¸ëŒ€ì£¼íƒ, ì•„íŒŒíŠ¸, ì—°ë¦½ì£¼íƒ ë“±
                          </td>
                      </tr>
                  </table>
                    
                    </div>
                    
                    
                    <div class="info-container">
                      <label class="stitle">ê±°ë˜ ì •ë³´ ğŸ’°</label>
                      <hr>
                  
                  <table>
                       <tr>
                           <td class="td-title">ê±°ë˜ ì¢…ë¥˜<span class="star">*</span></td>
                           <td class="td-content">
                               <input type="radio" id="sale" name="itemPtype" value="S" checked >
                               <label for="sale">ë§¤ë§¤</label>
                               
                               <input type="radio" id="yearRent" name="itemPtype" value="Y">
                               <label for="yearRent">ì „ì„¸</label>
                               
                               <input type="radio" id="monthlyRent" name="itemPtype" value="M">
                               <label for="monthlyRent">ì›”ì„¸</label>
                           </td>
                       </tr>
                       <tr>
                           <td class="td-title">ê°€ê²© ì •ë³´<span class="star">*</span></td>
                           <td>
                              <div class="td-content-price">
                                 <span class="S-price">ë§¤ë§¤ê°€ :</span>
                                 <span class="Y-price" style="display:none;">ì „ì„¸ ë³´ì¦ê¸ˆ :</span>
                                 <span class="M-price" style="display:none;">ë³´ì¦ê¸ˆ :</span>
                                 <input type="number" id="itemDeposit" name="itemDeposit" style="margin-right:50px;">
                                 
                                 <span class="M-price" style="display:none;">ì›”ì„¸ :</span>
                                 <input class="M-price" type="number" id="itemMonthPrice" name="itemMonthPrice" style="display:none;margin-right:50px;"> 
                                 
                                 <span class="td-content-text">ê´€ë¦¬ë¹„ :</span>
                                 <input type="number" id="itemMaintainPrice" name="itemMaintainPrice">
                                 <div class="guide">ê¸ˆì•¡ì˜ ë‹¨ìœ„ëŠ” ë§Œì›ì…ë‹ˆë‹¤. ì •í™•íˆ í™•ì¸ í›„ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>
                              </div>
                           </td>
                       </tr>
                       <tr>
                           <td class="td-title" >ì…ì£¼ ê°€ëŠ¥ ì¼ì<span class="star">*</span></td>
                           <td class="td-content">
                              <input type="text" id="itemMoveDate" name="itemMoveDate" placeholder="YYYYMMDD" class="input-text" readonly>
                            <span class="itemMoveAvbl-container">
                                 <input type="checkbox" id="itemMoveAvbl" name="itemMoveAvbl" value="Y">
                                 <label for="itemMoveAvbl">ì¦‰ì‹œì…ì£¼ ê°€ëŠ¥ ì—¬ë¶€</label>
                             </span>
                           </td>
                       </tr>
                   </table>
                    </div>
                    
                    
                     <div class="info-container">
                      <label class="stitle">ì¶”ê°€ ì •ë³´ ğŸ“</label>
                      <hr>
                      
                  <table>
                     <tr>
                           <td class="td-title">ì£¼ì°¨ ê°€ëŠ¥ ì—¬ë¶€<span class="star">*</span></td>
                           <td class="td-content">
                               <input type="radio" id="parking_yes" name="itemParking" value="Y">
                               <label for="parking_yes">ê°€ëŠ¥</label>
                               
                               <input type="radio" id="parking_no" name="itemParking" value="N">
                               <label for="parking_no">ë¶ˆê°€ëŠ¥</label>
                           </td>
                       </tr>
                       <tr>
                           <td class="td-title">ì—˜ë¦¬ë² ì´í„° ìœ ë¬´<span class="star">*</span></td>
                           <td class="td-content">
                               <input type="radio" id="elevator_yes" name="itemElevator" value="Y">
                               <label for="elevator_yes">ìˆìŒ</label>
                               
                               <input type="radio" id="elevator_no" name="itemElevator" value="N">
                               <label for="elevator_no">ì—†ìŒ</label>
                           </td>
                       </tr>
                       <tr>
                           <td class="td-title">ë°˜ë ¤ë™ë¬¼ í—ˆìš© ì—¬ë¶€<span class="star">*</span></td>
                           <td class="td-content">
                               <input type="radio" id="pets_yes" name="itemPet" value="Y">
                               <label for="pets_yes">í—ˆìš©</label>
                               
                               <input type="radio" id="pets_no" name="itemPet" value="N">
                               <label for="pets_no">ë¶ˆê°€ëŠ¥</label>
                           </td>
                       </tr>
                       <tr>
                          <td class="td-title">ì˜µì…˜</td>
                          <td class="td-content">
                            <div class="option-container">
                                <div class="option-item">
                                    <input type="checkbox" id="sink" name="sink" value="Y">
                                    <label for="sink">ì‹±í¬ëŒ€</label>
                                </div>
                                <div class="option-item">
                                    <input type="checkbox" id="air" name="air" value="Y">
                                    <label for="air">ì—ì–´ì»¨</label>
                                </div>
                                <div class="option-item">
                                    <input type="checkbox" id="laundry" name="laundry" value="Y">
                                    <label for="laundry">ì„¸íƒê¸°</label>
                                </div>
                                <div class="option-item">
                                    <input type="checkbox" id="refrigerator" name="refrigerator" value="Y">
                                    <label for="refrigerator">ëƒ‰ì¥ê³ </label>
                                </div>
                                <div class="option-item">
                                    <input type="checkbox" id="closet" name="closet" value="Y">
                                    <label for="closet">ì˜·ì¥</label>
                                </div>
                                <div class="option-item">
                                    <input type="checkbox" id="gasrange" name="gasrange" value="Y">
                                    <label for="gasrange">ê°€ìŠ¤ë ˆì¸ì§€</label>
                                </div>
                                <div class="option-item">
                                    <input type="checkbox" id="induction" name="induction" value="Y">
                                    <label for="induction">ì¸ë•ì…˜</label>
                                </div>
                                <div class="option-item">
                                    <input type="checkbox" id="micro" name="micro" value="Y">
                                    <label for="micro">ì „ìë ˆì¸ì§€</label>
                                </div>
                                <div class="option-item">
                                    <input type="checkbox" id="desk" name="desk" value="Y">
                                    <label for="desk">ì±…ìƒ</label>
                                </div>
                                <div class="option-item">
                                    <input type="checkbox" id="bed" name="bed" value="Y">
                                    <label for="bed">ì¹¨ëŒ€</label>
                                </div>
                                <div class="option-item">
                                    <input type="checkbox" id="entrance" name="entrance" value="Y">
                                    <label for="entrance">ê³µë™í˜„ê´€</label>
                                </div>
                                <div class="option-item">
                                    <input type="checkbox" id="cameratv" name="cameratv" value="Y">
                                    <label for="cameratv">CCTV</label>
                                </div>
                                <div class="option-item">
                                    <input type="checkbox" id="intercom" name="intercom" value="Y">
                                    <label for="intercom">ì¸í„°í°</label>
                                </div>
                            </div>
                            <div class="guide">ì˜µì…˜ì„ ì„ íƒí•˜ì§€ ì•Šì„ ê²½ìš° í•´ë‹¹ ì˜µì…˜ì€ ë“±ë¡ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</div>
                          </td>
                       </tr>
                   </table>

                 
                    </div>
               
                    <div class="info-container">
                      <label class="stitle">ì‚¬ì§„ ë“±ë¡</label>
                      <hr>
                      
                      <table>
                       <tr>
                           <td class="td-title">ì‚¬ì§„ ë“±ë¡<span class="star">*</span></td>
                           <td class="td-content">
                              <input type='file' id='filePlus' name="filePlus" multiple='multiple' accept=".jpg, .png" class="itemFile-button"/>
                              <div id='fileView'>
                                 <ul id="preview" class="sortable">
                                 </ul>   
                              </div>
                           </td>
                       </tr>
                   </table>
               </div>
               
</form>                  

                    <div class="button-container">
                       <button class="submit-button" id="btnBack">ë§¤ë¬¼ëª©ë¡ê°€ê¸°</button>
                        <button class="submit-button" id="btnWrite">ë“±ë¡í•˜ê¸°</button>
                    </div>
                </div>
                <!-- ê²Œì‹œíŒ ì „ì²´ ë‚´ìš© div ë -->
            </div>
        </div>

        <!-- ë³¸ë¬¸ ë -->

        <!-- í‘¸í„° ì‹œì‘ -->
        <footer th:replace="/common/footer :: footer"></footer>
        <!-- í‘¸í„° ë -->

        <!-- ê°œë³„ js -->
<!--         <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> -->
      <link rel="stylesheet" href="http://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
       <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
       <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
       <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
      <script src="//dapi.kakao.com/v2/maps/sdk.js?appkey=726dfc318a4b673936280508718242cf&libraries=services"></script>
        <script type="text/javascript">
      
        $(document).ready(function() {
           //alert("ìŠ¤í¬ë¦½íŠ¸ ì‹œì‘");
           
           //ì¤€ê³µì¼ì
           $("#itemBuildDate").datepicker({   //$("#itemBuildDate").datepicker();
              dateFormat: "yymmdd",         //ë²„ì „ë³„ formatìœ¼ë¡œ í•´ì•¼ ì ìš©ë˜ëŠ” ê²½ìš° ìˆìŒ
              monthNamesShort: ['1ì›”','2ì›”','3ì›”','4ì›”','5ì›”','6ì›”','7ì›”','8ì›”','9ì›”','10ì›”','11ì›”','12ì›”'],
              dayNamesMin: ['ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† ', 'ì¼'],
              yearSuffix: "ë…„",
              showMonthAfterYear: true,
              changeMonth: true,
              changeYear: true,
              showButtonPanel: true,
              showAnim: "slide"
           }).on('dp.change',function(e){
              $("#itemBuildDate").val(e.data.format("yymmdd"));
           });
           
           //ì…ì£¼ê°€ëŠ¥ì¼ì itemMoveDate
           $("#itemMoveDate").datepicker({   
              dateFormat: "yymmdd",
              monthNamesShort: ['1ì›”','2ì›”','3ì›”','4ì›”','5ì›”','6ì›”','7ì›”','8ì›”','9ì›”','10ì›”','11ì›”','12ì›”'],
              dayNamesMin: ['ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† ', 'ì¼'],
              yearSuffix: "ë…„",
              showMonthAfterYear: true,
              changeMonth: true,
              changeYear: true,
              showButtonPanel: true,
              showAnim: "slide"
           }).on('dp.change',function(e){
              $("#itemMoveDate").val(e.data.format("yymmdd"));
           });
           
           //ê±°ë˜ ìœ í˜•ì— ë”°ë¥¸ ê¸ˆì•¡ í™”ë©´ ë³€ê²½ jQuery
            $('input[name="itemPtype"]').change(function() {
                var selectedPtype = $(this).val();
                cngPriceSection(selectedPtype);
            });
            function cngPriceSection(selectedPtype) {
                $('.S-price, .Y-price, .M-price').hide();
                if (selectedPtype === 'S') {
                    $('.S-price').show();
                } else if (selectedPtype === 'Y') {
                    $('.Y-price').show();
                } else if (selectedPtype === 'M') {
                    $('.M-price').show();
                }
            }
            
            //ê²€ìƒ‰
            $("#btnSearch").on("click", function(){
               fn_addressToMap();
            });
           
           //ëª©ë¡ìœ¼ë¡œ
           $("#btnBack").on("click", function(){
              if(confirm("ì‘ì„± ì¤‘ì¸ ë§¤ë¬¼ ì •ë³´ëŠ” ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. \në§¤ë¬¼ ëª©ë¡ìœ¼ë¡œ ì´ë™í•˜ì‹œê² ìŠµë‹ˆê¹Œ?"))
              location.href = "/agent/itemList";
           });
           
           
           
           //ë“±ë¡í•˜ê¸° ë²„íŠ¼
           $('#btnWrite').on('click', function(){
              console.log($("#itemDeposit").val());
              
                var isOk = true;
                var msg = "ì…ë ¥í•˜ì§€ ì•Šì€ í•„ìˆ˜ í•­ëª©ì´ ìˆìŠµë‹ˆë‹¤.\nëˆ„ë½ëœ í•­ëª©ì„ í™•ì¸í•˜ê³ , ë“±ë¡ ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.\n\n** ëˆ„ë½ëœ í•„ìˆ˜ í•­ëª© **\n";

                if (!$('#itemName').val().trim()) {
                   isOk = false;
                   msg += '- ë§¤ë¬¼ ì´ë¦„\n';
                }
                if (!$('#itemIntro').val().trim()) {
                   isOk = false;
                   msg += '- ë§¤ë¬¼ ì†Œê°œ\n';
                }
                if (!$('#itemIntroDetail').val().trim()) {
                   isOk = false;
                   msg += '- ë§¤ë¬¼ ì†Œê°œ ìƒì„¸\n';
                }
                if (!$('input[name="itemItype"]:checked').val()) {
                   isOk = false;
                   msg += '- ë§¤ë¬¼ ìœ í˜•\n';
                }
                if (!$('#itemArea').val().trim() || isNaN($('#itemArea').val().trim()) || $('#itemArea').val().trim() <= 0) {
                   isOk = false;
                    msg += '- ë§¤ë¬¼ í¬ê¸°(ìˆ«ìë§Œ ì…ë ¥ ê°€ëŠ¥)\n';
                }
                if (!$('#itemAddress').val().trim()) {
                   isOk = false;
                    msg += '- ë§¤ë¬¼ ì£¼ì†Œ\n';
                }
                if (!$('#itemAddressDetail').val().trim()) {
                   isOk = false;
                    msg += '- ë§¤ë¬¼ ì£¼ì†Œ ìƒì„¸\n';
                }
                if (!$('#itemFloor').val().trim() || isNaN($('#itemFloor').val().trim()) || $('#itemArea').val().trim() <= 0) {
                   isOk = false;
                    msg += '- ë§¤ë¬¼ í•´ë‹¹ ì¸µ ìˆ˜ (ìˆ«ìë§Œ ì…ë ¥ ê°€ëŠ¥)\n';
                }
                // ì¤€ê³µ ì¼ì ì²´í¬
                var itemBuildDate = $('#itemBuildDate').val().trim();
                var datePattern = /^\d{4}\d{2}\d{2}$/;
                if (!itemBuildDate || !datePattern.test(itemBuildDate)) {
                   isOk = false;
                    msg += '- ì¤€ê³µ ì¼ì (í˜•ì‹:YYYYMMDD)\n';
                }
                if (!$('#itemDirection').val().trim()) {
                   isOk = false;
                    msg += '- ë±¡í–¥\n';
                }
                if (!$('#itemKind').val().trim()) {
                   isOk = false;
                    msg += '- ìš©ë„ë³„ ê±´ì¶•ë¬¼ì˜ ì¢…ë¥˜ ë¶„ë¥˜\n';
                }
            
                // ê±°ë˜ ì •ë³´ ìœ íš¨ì„± (ì¶”ê°€-ì›”ì„¸ì¼ ê²½ìš° ì›”ì„¸ë„ ì²´í¬)
                var itemDeposit = $('#itemDeposit').val().trim();
                if (!itemDeposit || isNaN(itemDeposit) || itemDeposit <= 0) {
                   isOk = false;
                   msg += '- ë§¤ë§¤ê°€/ë³´ì¦ê¸ˆ (ë‹¨ìœ„:ë§Œì›)\n';
                }
                var itemMaintainPrice = $('#itemMaintainPrice').val().trim();
                if (!itemMaintainPrice || isNaN(itemMaintainPrice || itemMaintainPrice <= 0)) {
                   isOk = false;
                   msg += '- ê´€ë¦¬ë¹„ (ë‹¨ìœ„:ë§Œì›)\n';
                }
                
                var moveDate = $('#itemMoveDate').val().trim();
                var datePattern = /^\d{4}\d{2}\d{2}$/;
                if (!moveDate || !datePattern.test(moveDate)) {
                   isOk = false;
                    msg += '- ì…ì£¼ ê°€ëŠ¥ ì¼ì (í˜•ì‹ : YYYYMMDD)\n';
                }
                
                // ì¶”ê°€ ì •ë³´ ìœ íš¨ì„±
                if (!$('input[name="itemParking"]:checked').val()) {
                   isOk = false;
                    msg += '- ì£¼ì°¨ ê°€ëŠ¥ ì—¬ë¶€\n';
                }
                if (!$('input[name="itemElevator"]:checked').val()) {
                   isOk = false;
                    msg += '- ì—˜ë¦¬ë² ì´í„° ìœ ë¬´\n';
                }
                if (!$('input[name="itemPet"]:checked').val()) {
                   isOk = false;
                    msg += '- ë°˜ë ¤ë™ë¬¼ í—ˆìš© ì—¬ë¶€\n';
                }
              
                // ì‚¬ì§„ íŒŒì¼ ìœ ë¬´
                var files = $('#filePlus')[0].files;
              if (files.length === 0) {
                 isOk = false;
                 msg += '- ì‚¬ì§„ íŒŒì¼ (jpg,jpeg,pngë§Œ ê°€ëŠ¥)\n';
                }

              
                // ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ ë° í¼ ì œì¶œ ì¤‘ì§€
                if (!isOk) {
                    alert(msg);
                    event.preventDefault();
                    return;
                }
                
                   
              fn_itemRegProc();
           });

        });
        

      // ì§€ë„
       var mapContainer = document.getElementById('mapDiv'),
           mapOption = {
               center: new daum.maps.LatLng(37.537187, 127.005476), 
               level: 5 
           };
   
       //ì§€ë„ ìƒì„±
       var map = new daum.maps.Map(mapContainer, mapOption);
       //ì£¼ì†Œ-ì¢Œí‘œ ë³€í™˜ ê°ì²´
       var geocoder = new daum.maps.services.Geocoder();
       //ë§ˆì»¤ ìƒì„±
       var marker = new daum.maps.Marker({
           //position: new daum.maps.LatLng(37.537187, 127.005476),
           map: map
       });
   
       function fn_addressToMap() {
          
           new daum.Postcode({
               oncomplete: function(data) {
                   var addr = data.address; // ìµœì¢… ì£¼ì†Œ ë³€ìˆ˜
                   
                   document.getElementById("itemAddress").value = addr;
                   // ì£¼ì†Œë¡œ ê²€ìƒ‰
                   geocoder.addressSearch(data.address, function(results, status) {
                       if (status === daum.maps.services.Status.OK) {
                           
                          var result = results[0];
                           var coords = new daum.maps.LatLng(result.y, result.x);
                           
                           mapContainer.style.display = "block";
                           map.relayout();
                           map.setCenter(coords);
                           marker.setPosition(coords)
                           
                           map.setDraggable(false);
                           map.setZoomable(false);
                           document.getElementById('placeholde-show').style.display = 'none';
                       }
                   });
               }
           }).open();
       }


      // ë§¤ë¬¼ ë“±ë¡ ajax     
        function fn_itemRegProc(){
           
          var form = $("#itemRegForm")[0];
          var itemRegFormData = new FormData(form);
           
           $.ajax({
              type:"POST",
              enctype: 'multipart/form-data',
              processData: false,
              contentType: false,
                url:"/agent/itemRegProc",
                data:itemRegFormData,
                datatype:"JSON",
                cache:false,
                beforeSend:function(xhr){
                   console.log($("#itemDeposit").val());
                   xhr.setRequestHeader("AJAX", "true");
                },
                success:function(res){
                   if(res == 200){
                      alert("ë§¤ë¬¼ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.");
                      location.href = "/agent/itemList";   
                   }
                   else if(res == 400){
                      alert("ê°’ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.");
                      $("#boardTitle").focus();
                      $("#btnUpdate").prop("disabled", false);
                   }
                   else{
                      alert("ë§¤ë¬¼ ë“±ë¡ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.");
                      $("#boardTitle").focus();
                      $("#btnUpdate").prop("disabled", false);
                   }
                },
                error:function(error){
                   alert("ë§¤ë¬¼ ë“±ë¡ ì¤‘ ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.");
                   $("#btnUpdate").prop("disabled", false);
                }
           });
        }

        $("#filePlus").change(function(e){
             $('#preview').empty();
             console.log("00000");
             var files = e.target.files;
             var arr = Array.prototype.slice.call(files);
             
             arr.forEach(function(file) {
                  console.log("File Name: " + file.name);
                  console.log("File Size: " + file.size + " bytes");
                  console.log("File Type: " + file.type);
              });
             
             fn_preview(arr);
             console.log("11111");
             
         function fn_preview(arr){
                arr.forEach(function(f){
                   
                   var str = '<li>';
                   
                   if(f.type.match('image.*')){
                      var reader = new FileReader();
                      reader.onload = function(e){
                         str += '<img src="'+e.target.result+'" title="'+f.name+'" width=150 height=120>';
                         //str += '<span class="delBtn" onclick="fn_delImg(this)">x</span>';
                         str += '</li>';
                         $(str).appendTo('#preview');
                      }
                      reader.readAsDataURL(f);
                   }else{
                      alert("ë¯¸ë¦¬ë³´ê¸°ì— ì‹¤íŒ¨í•˜ì˜€ìŠµë‹ˆë‹¤.");
                   }
                   
                });
             }
             
          });
        
      function fn_delImg(_this){
             $(_this).parent('li').remove();
             $("#filePlus").val('');
          }

        </script>
</body>

</html>
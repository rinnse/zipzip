<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
   <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
    <!-- í—¤ë” ì‹œì‘ -->
    <div th:replace="/common/header :: header"></div>
    <!-- í—¤ë” ë -->

    <!-- ê°œë³„ css -->
   <style type="text/css">
      .board-Page-container {
         display: flex;
         position: relative;
         justify-content: center;
         align-items: center;
         min-height: 565px;
         width: 100%;
      }
      .board-container {
         display: flex;
         position: relative;
         justify-content: center;
         align-items: center;
         min-height: 500px;
         width:96%;
         border-radius: 10px;
         margin-bottom: 1.5%;
         background-color: #fffff;
          box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.08);
         margin-top:-8px;
      }
      .board-content-container {
           background-color: white;
            display: flex;
          position: relative;
          justify-content: center;
          align-items: center;
          height: 50%;
          width: 70%;
          margin-top: 100px;
          margin-bottom: 30px;
          flex-direction: column;
        }
        .title-container {
           font-size:38px;
           font-weight:bold;
           color:gray;
           margin-bottom:50px;
           text-align: left;
        }
        
       table {
           border-collapse: collapse;
           width: 100%;
           border-radius: 10px;
           overflow: hidden;
           box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
           background-color: #fff;
       }
   
       th, td {
           padding: 12px;
           text-align: center;
       }
   
       th {
           border-left:1px dashed #fff;
           background-color: #ffcccc;
           color: #333;
           font-weight: bold;
       }
       
       td {
          border-top: 1px solid #ffe6e6; /* td ìš”ì†Œì— ëŒ€í•´ 1í”½ì…€ ë‘ê»˜ì˜ íšŒìƒ‰ ìœ—ì„  ì¶”ê°€ */
       }
       tr:hover {
           background-color: #ffe6e6;
       }
       .button-css {
            background-color: #ffcccc;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin:5px;
        }
        
        /* í˜ì´ì§• */
      .pagination {
          text-align: center; 
          height: 37px; 
          line-height: 37px;
          position: relative; 
          left: 50%; /* ì™¼ìª½ ì—¬ë°±ì„ 50%ë¡œ ì„¤ì •í•©ë‹ˆë‹¤. */
          transform: translateX(-50%); /* ê°€ìš´ë° ì •ë ¬ì„ ìœ„í•´ xì¶•ìœ¼ë¡œ -50%ë§Œí¼ ì´ë™í•©ë‹ˆë‹¤. */
          width: auto; /* í•„ìš”í•œ ë§Œí¼ì˜ ë„ˆë¹„ë¥¼ ê°€ì§€ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤. */
          bottom: -5%;
          margin-top:20px;
          margin-right:30px;
          justify-content: center;
      }
      .pagination p {
         display:inline-block; 
         border:1px solid #d6d6d6; 
         height:35px; width:35px;  
         vertical-align:middle; 
         text-align:center; 
         text-decoration:none; 
         font-size:15px; 
         color:white;
         background:#d6d6d6;
         border-radius: 20px;
         margin-left: 4px;
         cursor: pointer;
      }
      .pagination .on {
         color:#fff; 
         font-weight:bold; 
         background:#ffcccc;
         cursor: pointer;
         border-color:#ffcccc;
      }
      .pagination .next{
         height:35px; 
         width:35px; 
         border:1px solid #d4d4d4;
         overflow:hidden;
         position:relative; 
         font-size:0;
      }
      .pagination .next{
         background:#ebebeb url("") no-repeat center center; 
         margin-left:4px; 
         border-left:0;
      }
      /* í˜ì´ì§• ë */

      /* ëª¨ë‹¬ */
      .modalContainer {
         position: fixed;
         top: 0;
         left: 0;
         display: flex; /* ìˆ˜ì • */
         justify-content: center; 
         align-items: center;
         background: rgba(0, 0, 0, 0.5);
         z-index: 10000;
      }
      .modalContent {
          position: relative;
          background-color: #ffffff;
          width: 30%;
          height: 80%;
          position: fixed;
          padding: 15px;
          top: 50%;
          left: 50%; /* ìˆ˜ì • */
          transform: translate(-50%, -50%); /* ìˆ˜ì • */
          border-radius: 10px;
          z-index: 10001;
         overflow-y: auto;
      }
      .modalContainer.hidden {
         display: none;
      }
      .modalCloseButton {
         margin-left:1%;
          border-radius: .2em;
          outline: none;
          background-color: #EEE;
          border: none;
          color: #555;
          cursor: pointer;
          transition: .2s;
          box-shadow: 0em 0em 3em rgba(0,0,0,0);
      }
      .modelCloseButton :hover {
         border-radius: 0em;
         color: rgb(150, 150, 150);
          background:#fff;
          box-shadow: .1em .1em 3em rgba(0,0,0, 0.2);
      }
         /* ëª¨ë‹¬ ë‚´ìš© */
         .img-box{
            width:75vw;
            height:300px;
            margin-top:100px;
            margin-bottom:20px;
            margin-left:200px;
            margin-right:0px;
         }
         .image-container {
             position: relative;
             display: inline-block;
             margin-left:12px;
         }
         .property-details {
             padding: 30px;
             border: 1px solid #ccc;
             border-radius: 10px;
         }
         .property-header {
            
             justify-content: space-between;
             align-items: center;
         }
         .registration-number {
             font-weight: bold;
             background-color: gray;
             color: white;
             padding: 5px 10px;
             border-radius: 5px;
             display: inline-block;
             margin-top: 10px;
             margin-bottom: 10px;
         }
         .address-date {
             display: flex;
             align-items: center;
             margin-top: 10px;
             margin-bottom: 10px;
             font-weight:bold;
             font-size:15px;
         }
         .date{
            position: relative;
            font-size:17px;
            color:gray;
            margin-top: 12px;
         }

         .rent{
             font-size: 30px;
             font-weight: bold;
             margin-bottom: 10px;
             bottom: 10px;
         }
         .maintenance-fee {
             display: flex;
             align-items: center;
             margin-bottom: 10px;
         }
         hr {
             margin-top: 20px;
             margin-bottom: 20px;
             border-top: 1px solid #ccc;
         }
         .property-intro, .property-description, .location, .agency-info {
             margin-top: 20px;
         }
         .property-description .heading {
             font-size: 18px;
             font-weight: bold;
             margin-bottom: 10px;
         }
         .property-description .content {
             color: #666;
         }
         .content-pre {
            color: #666;
            width: 450px; /* í…ìŠ¤íŠ¸ê°€ í‘œì‹œë  ê³µê°„ì˜ ìµœëŒ€ ë„ˆë¹„ */
            overflow: hidden; /* ë„˜ì¹œ í…ìŠ¤íŠ¸ë¥¼ ê°ì¶œ ìˆ˜ ìˆë„ë¡ ì„¤ì • */
            white-space: nowrap; /* í…ìŠ¤íŠ¸ê°€ ì¤„ë°”ê¿ˆë˜ì§€ ì•Šë„ë¡ ì„¤ì • */
            text-overflow: ellipsis; /* ë„˜ì¹œ í…ìŠ¤íŠ¸ë¥¼ ìƒëµ ë¶€í˜¸(...)ë¡œ í‘œì‹œ */
         }
         .read-more {
            position:absolute;
            right:27px;
             cursor: pointer;
             color: #d698b1;
             font-weight: bold;
             margin-right:30px;
         }
         .smallMap{
            width:100%;
            height:300px;
            align-self: center;
            margin-top: 15px;
         }
         .agency-info {
             display: flex;
             align-items: center;
         }
         .agent-photo{
            position: relative;
            width: 100px; /* ì§€ë¦„ ì„¤ì • */
             height: 100px; /* ì§€ë¦„ ì„¤ì • */
             border-radius: 50%; 
             overflow: hidden;
             margin-right: 20px;
         }
         .agent-photo-inner{
            width: 100%;
             height: 100%;
            object-fit: cover;
         }
         .agency-details {
             flex: 1; 
         }
         .agency-name {
             font-weight: bold;
         }
         .agent-intro {
             color: gray;
             font-size: 14px;
         }
         .warning{
            color: lightgrey;
            font-size: 14px;
            cursor: pointer;
            margin-top:8px;
            margin-left:20px
         }
         .option-container{
            margin-top:30px;
            display: flex;
            flex-direction: column;
         }
         .option-col{
            margin-bottom:30px;
            vertical-align: middle;
         }
         .option-img{
            width:30px;
            height:30px;
            margin-right:15px;
            vertical-align: middle
         }
         .option-img-siren{
            width:30px;
            height:30px;
            margin-left:210px;
            vertical-align: middle
         }
         .contact-button {
             position: static;
             width:48%;
             bottom: 20px;
             right: 20px;
             color: white;
             padding: 10px 20px;
             border-radius: 5px;
             cursor: pointer;
             z-index: 1000; /* ë‹¤ë¥¸ ìš”ì†Œ ìœ„ì— í‘œì‹œë˜ë„ë¡ ì„¤ì • */
             background-color: #ffcccc;
             text-align:center;
         }
         .icon-overlay-cancel {
            position: absolute;
            left:0%;
            top: 5%;
            cursor: pointer;
            width: 20px; /* ë„ˆë¹„ ì¡°ì • */
         }
         .icon-overlay { 
             position: absolute;
             top: 10%;
             left: 95%;
             transform: translate(-50%, -50%);
             border-radius: 50%;
             padding: 5px; 
             cursor: pointer;
         }
         .icon-overlay2 { 
             position: absolute;
             top: 10%;
             left: 90%;
             transform: translate(-50%, -50%);
             /*background-color: rgba(255, 255, 255, 0.3); */
             border-radius: 50%; 
             padding: 5px; 
             cursor: pointer;
         }
         .inner-icon{
            width:30px;
            height:30px;
            margin-top:150px;
         }
         .icon-overlay-side0{
            position: absolute;
             top: 10%;
             transform: translate(-50%, -50%);
             padding: 5px; 
             left:16%;
             cursor: pointer;
         }
         .icon-overlay-side1{
            position: absolute;
             top: 50%;
             transform: translate(-50%, -50%);
             padding: 5px; 
             left:92%;
             cursor: pointer;
         }
         .icon-overlay-side2{
            position: absolute;
             top: 50%;
             transform: translate(-50%, -50%);
             padding: 5px; 
             cursor: pointer;
             left:20%;
         }
         
         /* ì˜µì…˜ ì•„ì´ì½˜ */
         .icon-container {
             display: grid;
             grid-template-columns: repeat(4, 1fr); /* í•œ ì¤„ì— 4ê°œì˜ ì—´ì„ ìƒì„±í•©ë‹ˆë‹¤. */
             gap: 10px;
         }
         
         .option-icon {
             width: 50px; 
             height: auto; 
             margin: 0 auto; 
             font-size: 14px;
         }
         .option-icon-img {
             width: 30px;
             height: auto; 
             display: flex;
             margin: 0 auto;
             margin-bottom:10px;
         }
         .option-info {
             text-align: center; 
             margin: 0 auto; 
         }
         .img-css {
            position:relative;
            width:100%;
            height:300px;
            margin-bottom:10px;
            border-radius:5px;
         }
         .modalContent::-webkit-scrollbar {
           width: 10px;
           /* ìŠ¤í¬ë¡¤ë°”ì˜ ë„ˆë¹„ */
         }
         
         .modalContent::-webkit-scrollbar-track {
           background: #fafaf;
           /* ìŠ¤í¬ë¡¤ë°”ì˜ íŠ¸ë™ ë°°ê²½ìƒ‰ */
         }
         
         .modalContent::-webkit-scrollbar-thumb {
           background: lightgray;
           /* ìŠ¤í¬ë¡¤ë°” ì¸ì˜ ë°°ê²½ìƒ‰ */
           border-radius: 20px;
         }
         .floor-layer {
            display: flex;
             justify-content: space-between;
         }
         .item-intro-detail {
             border: none; /* ì™¸ê°ì„  ì œê±° */
             resize: none; /* í¬ê¸° ì¡°ì • ë¹„í™œì„±í™” */
             width: 100%; /* ë¶€ëª¨ ìš”ì†Œì˜ ê°€ë¡œ 90%ë¡œ ì„¤ì • */
            overflow-y: hidden; 
             outline: none;
         }
         /* ëª¨ë‹¬ ë‚´ìš© ë */
      /* ëª¨ë‹¬ ë */
    input[type="radio"]:checked + label {
       font-weight: bold;
       color: #5066a5; /* ì„ íƒëœ ë¼ë²¨ì˜ í…ìŠ¤íŠ¸ ìƒ‰ìƒ ë³€ê²½ */
   }
   input[type="radio"] + label {
       margin-left:8px;
       margin-right: 10px;
   }
    input[type="radio"] {
        display: inline;
        margin-left:10px;
        appearance: none;
      width: 15px;
      height: 15px;
      box-shadow: 0 0 0 1px #ccc;
      border-radius: 50%;
    }
   [type="radio"]:checked {
        width: 15px;
        height: 15px;
        background-color: #6c86ba;
        box-shadow: 0 0 0 2px #6c86ba;
        border: 4px solid white;
        border-radius: 50%;
   }
    
   #btnMore {
      border: none;
      border-radius: 8px;
      width: 100%;
      height: 40px;
      background-color: #c2c0c1;
      color: white;
      font-size: 17px;
      margin-top:20px;
   }   
    </style>

    
</head>
<body>
   <!-- ë„¤ë¹„ ì‹œì‘ -->
   <div th:replace="/common/nav :: nav"></div>
   <!-- ë„¤ë¹„ ë -->
   
    <!-- ë³¸ë¬¸ ì‹œì‘ -->
       <div style="height: 13vh;"></div>

       <div class="board-Page-container">
           <div class="board-container">
              <div class="board-content-container">
                 
                 <div class="title-container">ë§¤ë¬¼ ë“±ë¡ í˜„í™© ğŸ”</div>
               
               <div style="display: flex;justify-content:space-between;width:100%;">
                  <div style="display:flex; float:left;">
                      <input type="radio" name="sortI" value="" id="sortAll" th:checked="${sortItype == ''}">
                     <label for="sortAll">ì „ì²´</label>
                     
                     <input type="radio" name="sortI" value="A" id="sortA" th:checked="${sortItype == 'A'}">
                     <label for="sortA">ì•„íŒŒíŠ¸</label>
                     
                     <input type="radio" name="sortI" value="F" id="sortF" th:checked="${sortItype == 'F'}">
                     <label for="sortF">ì˜¤í”¼ìŠ¤í…”</label>
                     
                     <input type="radio" name="sortI" value="T" id="sortT" th:checked="${sortItype == 'T'}">
                     <label for="sortT">íˆ¬ë£¸</label>
                     
                     <input type="radio" name="sortI" value="O" id="sortO" th:checked="${sortItype == 'O'}">
                     <label for="sortO">ì›ë£¸</label>
                  </div>
                  
                  <div style="display:flex; float:left;">
                     <input type="radio" name="sortP" value="" id="sortS" th:checked="${sortPtype == ''}">
                     <label for="sortS">ì „ì²´</label>
                     <input type="radio" name="sortP" value="S" id="sortS" th:checked="${sortPtype == 'S'}">
                     <label for="sortS">ë§¤ë§¤</label>
                     <input type="radio" name="sortP" value="Y" id="sortY" th:checked="${sortPtype == 'Y'}">
                     <label for="sortY">ì „ì„¸</label>
                     <input type="radio" name="sortP" value="M" id="sortM" th:checked="${sortPtype == 'M'}">
                     <label for="sortM">ì›”ì„¸</label>
                  </div>
                </div><br/>
               
               <table id="itemTable">
                   <tr>
                       <th style="width:10%">ë§¤ë¬¼ ë²ˆí˜¸</th>
                       <th style="width:9%">ë§¤ë¬¼ ìœ í˜•</th>
                       <th style="width:10%">ë§¤ë¬¼ ì‚¬ì§„</th>
                       <th style="width:12%">ë§¤ë¬¼ ì´ë¦„</th>
                       <th style="width:18%">ë§¤ë¬¼ ìœ„ì¹˜</th>
                       <th style="width:7%">ê±°ë˜ ìœ í˜•</th>
                       <th style="width:9%">ê°€ê²©(ë§Œì›)</th>
                       <th style="width:7%">ìƒíƒœ</th>
                       <th style="width:9%">ë“±ë¡ì¼</th>
                       <th></th>
                   </tr>
<th:block th:if="${list != null}" th:each="item : ${list}">
                   <tr class="item-list">
                       <td th:text="${#numbers.formatInteger(item.itemNum, 10)}"></td>
                       <td th:if="${item.itemItype == 'O'}">ì›ë£¸</td>
                       <td th:if="${item.itemItype == 'T'}">íˆ¬ë£¸</td>
                       <td th:if="${item.itemItype == 'F'}">ì˜¤í”¼ìŠ¤í…”</td>
                       <td th:if="${item.itemItype == 'A'}">ì•„íŒŒíŠ¸</td>
                       <td style="cursor:pointer;"><img th:src="@{'/resources/upload/item/' + ${item.fileName}}" th:onclick="'fn_itemDetail('+ ${item.itemNum} +')'" style="width:120px;height:90px;"></td>
                       <td th:text="${item.itemName}" th:onclick="'fn_itemDetail('+ ${item.itemNum} +')'" style="cursor:pointer;">ê°€ì„±ë¹„ ì›ë£¸</td>
                       <td th:text="${item.itemAddress}" th:onclick="'fn_itemDetail('+ ${item.itemNum} +')'" style="cursor:pointer;">ì„œìš¸íŠ¹ë³„ì‹œ ë§ˆí¬êµ¬ ë™êµë™</td>
                       <td th:if="${item.itemPtype == 'M'}">ì›”ì„¸</td>
                       <td th:if="${item.itemPtype == 'Y'}">ì „ì„¸</td>
                       <td th:if="${item.itemPtype == 'S'}">ë§¤ë§¤</td>
                       <td th:text="${item.itemDeposit}">5000/60</td>
                       <td th:if="${item.itemStatus == 'Y'}">ê±°ë˜ì¤‘</td>
                       <td th:if="${item.itemStatus == 'N'}">ê±°ë˜ì™„ë£Œ</td>
                       <td th:text="${item.regDate}">216</td>
                       <td>
                          <button id="btnItemUpdate" class="button-css" th:onclick="'fn_itemUpdate('+ ${item.itemNum} +')'">ìˆ˜ì •</button>
                          <button id="btnItemDelete" class="button-css" th:onclick="'fn_itemDelete('+ ${item.itemNum} +')'">ì‚­ì œ</button>
                       </td>
                   </tr>
</th:block>
<th:block th:if="${list == null}">
                   <tr>
                       <td colspan="10" style="height:300px;font-size:20px;color:gray;">ë“±ë¡ëœ ë§¤ë¬¼ì´ ì—†ìŠµë‹ˆë‹¤.</td>
                   </tr>
</th:block>
<th:block th:if="${#lists.size(list) <= 0}">
                   <tr>
                       <td colspan="10" style="height:300px;font-size:20px;color:gray;">ì¡°ê±´ì— ë¶€í•©í•˜ëŠ” ë§¤ë¬¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</td>
                   </tr>
</th:block>
               </table>
               <button id="btnMore" name="btnMore">ë” ë³´ê¸°</button>
               
            </div>
         </div>
      </div>

<!-- ëª¨ë‹¬ -->
<div id="modalContainer" class="modalContainer" style="width: 100%; height: 100%;display:none; background: rgba(0, 0, 0, 0.5);">
   <div id="modalContent" class="modalContent">
      <div>

         <div class="property-details">
            <div style="font-weight:bold;font-size:30px;margin-bottom:20px;color:gray;"><span class="item-itype" >ë§¤ë¬¼ ìœ í˜•</span></div>
            <!-- ì´ë¯¸ì§€ -->
            <div>
                 <div class="slick-slider">
                     <div> 
                         <img src="/resources/upload/item/100_4.jpg" alt="Your Image" class="img-css">
                     </div>
                 </div>
                 <div class="slick-slider-dots"></div>
             </div>
            <!-- ì´ë¯¸ì§€ë -->
         
             <div class="property-header">
                <div style="display: flex;justify-content: space-between;">
                    <div class="registration-number"><span>ë§¤ë¬¼ë²ˆí˜¸</span></div>
                    <span class="date">ë“±ë¡ì¼ê°’</span>
                 </div>
                 <div class="address-date">
                     <div ><span class="address">ì£¼ì†Œ</span>&nbsp;&nbsp;<span class="address-detail">ì£¼ì†Œ ìƒì„¸</span></div>
                 </div>
                 
                 
                 <div class="rent">
                     <span class="item-deposit">ì „ì„¸/ë³´ì¦ê¸ˆ ê¸ˆì•¡</span> 
                     <span class="item-month-price">ì›”ì„¸ê°€ê²©</span>
                 </div>       
                 <div class="maintenance-fee">ê´€ë¦¬ë¹„ <span class="maintenance-fee-modal">ê´€ë¦¬ë¹„ê¸ˆì•¡</span></div>  
             </div>
             <hr/>
             <div class="property-intro">
                 <div class="one-line-intro"><span>intro</span></div>

               <div class="option-container" id="longO">
                   <div class="option-col">
                       <img src="/resources/images/icon/size.png" class="option-img">
                       <b>ì „ìš© <span class="item-area-modal">ë©´ì ê°’</span> mÂ²</b>
                   </div>
                   <div class="option-col">
                       <img src="/resources/images/icon/room.png" class="option-img">
                       <b><span class="item-itype">ì•„íŒŒíŠ¸</span></b>
                   </div>
                   <div class="option-col">
                         <img src="/resources/images/icon/building.png" class="option-img">
                         <span class="item-floor-modal">ì¸µê°’</span> ì¸µ
                   </div>
                   <div class="option-col">
                       <span>
                           <img src="/resources/images/icon/p.png" class="option-img">
                           ì£¼ì°¨ - <span  class="item-parking-YN">ê°€ëŠ¥/ë¶ˆê°€ëŠ¥</span>
                       </span>
                   </div>
                   <div class="option-col">
                       <span>
                           <img src="/resources/images/icon/cal.png" class="option-img">
                           ì¦‰ì‹œì…ì£¼ê°€ëŠ¥ - <span class="item-move-itemMoveAvbl">ê°€ëŠ¥/ë¶ˆê°€ëŠ¥</span>
                       </span>
                   </div>
                   <div class="option-col">
                       <img src="/resources/images/icon/direc.png" class="option-img">
                       ë°©í–¥ - <span class="item-direction">ë‚¨ë™í–¥</span>
                   </div>
                   <div class="option-col">
                       <span>
                           <img src="/resources/images/icon/elevator.png" class="option-img">
                           ì—˜ë ˆë² ì´í„° - <span class="item-elevator-YN">ìˆìŒ</span>
                       </span>
                   </div>
                   <div class="option-col">
                       <img src="/resources/images/icon/home.png" class="option-img">
                       ê±´ì¶•ë¬¼ëŒ€ì¥ ì£¼ìš©ë„ - <span class="item-kind">ìƒê°€ì£¼íƒ</span>
                   </div>
                   <div class="option-col">
                       <img src="/resources/images/icon/pet.png" class="option-img">
                       ë°˜ë ¤ê²¬ ë™ë°˜ - <span class="item-pet">ê°€ëŠ¥</span>
                   </div>
                   <div class="option-col">
                       <img src="/resources/images/icon/task.png" class="option-img">
                       ì¤€ê³µì¼ - <span class="item-build-date">ì¤€ê³µì¼</span>
                   </div>
                   <div class="option-col">
                       <img src="/resources/images/icon/house.png" class="option-img">
                       <span class="address">ì£¼ì†Œ</span> <span class="address-detail">ìƒì„¸ì£¼ì†Œ</span>
                   </div>
                   <div class="option-col">
                       <img src="/resources/images/icon/checked.png" class="option-img">
                       ë“±ë¡ë²ˆí˜¸ <span>ë“±ë¡ë²ˆí˜¸</span>
                   </div>
               </div>   
             </div>
             
             <br/>
             <hr/>
             
             <div class="property-description">
                 <div class="heading">ìƒì„¸ ì„¤ëª…</div>
                 <div class="content" id="originC">
                    <textarea class="item-intro-detail" rows="15" readonly >ìƒì„¸ì†Œê°œ</textarea>
                 </div>
             </div>
             
             <br/>
             <hr/>
             <div class="location">
                 <b style="margin-bottom:20px;">ìœ„ì¹˜</b>
                 <br/>
                 <div class="address">ì„œìš¸ì‹œ ë§ˆí¬êµ¬ ì—°ë‚¨ë™</div>
                 <div class="smallMap" id="map">ì§€ë„</div>
             </div>
             <script src="//dapi.kakao.com/v2/maps/sdk.js?appkey=726dfc318a4b673936280508718242cf&libraries=services&autoload=false"></script>
             <script>
            kakao.maps.load(function() {
                var mapContainer = document.getElementById('map'),
                mapOption = { 
                    center: new kakao.maps.LatLng(33.450701, 126.570667),
                    level: 5
                };
                var map = new kakao.maps.Map(mapContainer, mapOption); 
                var geocoder = new kakao.maps.services.Geocoder();
                var marker = new daum.maps.Marker({
                    map: map
                });
                var address = 'ì„œìš¸ ê°•ë‚¨êµ¬ ì—­ì‚¼ë™ 603-5';
                geocoder.addressSearch(address, function(result, status) {
                  if (status === kakao.maps.services.Status.OK) {
                  var coords = new kakao.maps.LatLng(result[0].y, result[0].x);
                     var marker = new kakao.maps.Marker({
                        map: map,
                           position: coords
                       });
                  }
                  map.setCenter(coords);
                  map.setDraggable(false);
                  map.setZoomable(false); 
                });
            });
            </script>
             <hr/>
             <div>
                 <div style="font-weight: bold; font-size: 20px; margin-bottom:30px;">ì˜µì…˜</div>
                 <div class="icon-container">
                     <div>   <!--  th:if="${io.air == 'Y'}" -->
                         <div class="option-icon">
                            <img src="/resources/images/icon/option/air-48.png" class="option-icon-img">
                            <div class="option-info">ì—ì–´ì»¨</div>
                         </div>
                      </div>
                      <div>
                         <div class="option-icon">
                            <img src="/resources/images/icon/option/bed-48.png" class="option-icon-img">
                            <div class="option-info">ì¹¨ëŒ€</div>
                         </div>
                      </div>
                      <div>
                         <div class="option-icon">
                            <img src="/resources/images/icon/option/cctv-48.png" class="option-icon-img">
                            <div class="option-info">CCTV</div>
                         </div>
                      </div>
                      <div>
                      <div class="option-icon">
                         <img src="/resources/images/icon/option/closet-48.png" class="option-icon-img">
                         <div class="option-info">ì˜·ì¥</div>
                      </div>
                    </div>
                    <div>
                         <div class="option-icon">
                            <img src="/resources/images/icon/option/desk-48.png" class="option-icon-img">
                            <div class="option-info">ì±…ìƒ</div>
                         </div>
                      </div>
                      <div>
                         <div class="option-icon">
                            <img src="/resources/images/icon/option/entrance-48.png" class="option-icon-img">
                            <div class="option-info">ê³µë™ë¬¸</div>
                         </div>
                      </div>
                      <div>
                         <div class="option-icon">
                            <img src="/resources/images/icon/option/gasstove-48.png" class="option-icon-img">
                            <div class="option-info">ê°€ìŠ¤ë¶ˆ</div>
                         </div>
                      </div>
                      <div>
                         <div class="option-icon">
                            <img src="/resources/images/icon/option/induction-48 .png" class="option-icon-img">
                            <div class="option-info">ì¸ë•ì…˜</div>
                         </div>
                      </div>
                      <div>
                         <div class="option-icon">
                            <img src="/resources/images/icon/option/intercom.png" class="option-icon-img">
                            <div class="option-info">ì¸í„°í°</div>
                         </div>
                      </div>
                      <div>
                         <div class="option-icon">
                            <img src="/resources/images/icon/option/laundry-48.png" class="option-icon-img">
                            <div class="option-info">ì„¸íƒê¸°</div>
                         </div>
                      </div>
                      <div>
                         <div class="option-icon">
                           <img src="/resources/images/icon/option/micro-48.png" class="option-icon-img">
                           <div class="option-info">ë Œì§€</div>
                         </div>
                      </div>
                      <div>
                         <div class="option-icon">
                           <img src="/resources/images/icon/option/refrigerator-48.png" class="option-icon-img">
                           <div class="option-info">ëƒ‰ì¥ê³ </div>
                         </div>
                      </div>
                      <div>
                         <div class="option-icon">
                            <img src="/resources/images/icon/option/sink-48.png" class="option-icon-img">
                           <div class="option-info">ì‹±í¬ëŒ€</div>
                         </div>
                      </div>   
                 </div>
             </div>
             <br/>
             <hr/>
            <div class="floor-layer">
                 <div class="contact-button" id="btn-update">ìˆ˜ì •í•˜ê¸°</div>
                 <div class="contact-button" id="btn-delete">ì‚­ì œí•˜ê¸°</div>
                 
             </div>
         </div>

      </div>
   </div>
</div>

<form id="itemForm" name="itemForm" method="POST">
   <input type="hidden" id="itemNum" name="itemNum" />
   <input type="hidden" id="sortItype" name="sortItype" th:value="${sortItype}"/>
   <input type="hidden" id="sortPtype" name="sortPtype"th:value="${sortPtype}">
   <input type="hidden" id="searchT" name="searchT" />
   <input type="hidden" id="searchV" name="searchV" />
</form>

      
   <!-- ë³¸ë¬¸ ë -->
   
<!--    <!-- í‘¸í„° ì‹œì‘ --> -->
<!--    <footer th:replace="/common/footer :: footer"></footer> -->
<!--    <!-- í‘¸í„° ë --> -->
   
   <!-- ê°œë³„ js -->
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
   <script type="text/javascript">
         
   $(document).ready(function() {
      
      var listSize = [[${#lists.size(list)}]]; 
       console.log("List size: " + listSize);
       
       
       // ë”ë³´ê¸°
       var initialLoadCount = 10;
       var totalReviews = $(".item-list").length;
       loadMore(initialLoadCount);
   
       $("#btnMore").on("click", function() {
           initialLoadCount += 3; 
           loadMore(initialLoadCount);
       });
       function loadMore(count) {
           $(".item-list").hide();
           $(".item-list").slice(0, count).show();
   
           if (count >= totalReviews) { 
               $("#btnMore").hide();
           } else {
               $("#btnMore").show();
           }
       }
      
      // ëª¨ë‹¬ ë‚´ ìˆ˜ì • ë²„íŠ¼
      $("#btn-update").on("click", function(){
         //alert('ëª¨ë‹¬ ìˆ˜ì •  itemNum --' + $("#itemNum").val());
         fn_itemUpdate($("#itemNum").val());
      });
      
      // ëª¨ë‹¬ ë‚´ ì‚­ì œ ë²„íŠ¼
      $("#btn-delete").on("click", function(){
         //alert('ëª¨ë‹¬ ì‚­ì œ  itemNum --' + $("#itemNum").val());
         fn_itemDelete($("#itemNum").val());
      });      
      

   });
   
   $("input[name='sortI']").change(function() {
       var itypeValue = $("input[name='sortI']:checked").val();
       document.itemForm.sortItype.value = itypeValue;
       fn_sort();
   });

   $("input[name='sortP']").change(function() {
       var ptypeValue = $("input[name='sortP']:checked").val();
       document.itemForm.sortPtype.value = ptypeValue;
       fn_sort();
   });      

   function fn_sort() {
       document.itemForm.action = "/agent/itemList";
       document.itemForm.submit();
   }
   
   // ëª¨ë‹¬ ì—´ê¸°
   function fn_itemDetail(itemNum){
      //alert(">>>>" + itemNum);
      
      document.documentElement.style.overflow = 'hidden';
      
      $.ajax({
         url: "/getItemDetail",
         type: "POST",
         data: { itemNum: itemNum },
         success:function(itemData){
            //alert("ì„±ê³µ");
            $("#qwer").replaceWith(itemData);
            console.log(itemData.itemFileName[0].fileName);
            console.log(itemData.itemName);
            
            
            $('.img-css').attr('src', '/resources/upload/item/' + itemData.itemFileName[0].fileName);
            
             var itemName = itemData.itemName;
            
            var itemNum = itemData.itemNum;
            $('.registration-number').text(String(itemNum).padStart(10, '0'));
            
             $('.address').text(itemData.itemAddress);
             $('.address-detail').text(itemData.itemAddressDetail);
             $('.item-deposit').text(itemData.itemDeposit);
             $('.date').text('ë“±ë¡ì¼ : ' + itemData.regDate);
             var deposit = itemData.itemDeposit;
             
             if (deposit >= 10000) {
                 var quotient = Math.floor(deposit / 10000);
                 var remainder = deposit % 10000;
                 var shortDeposit = quotient + 'ì–µ ';
                 
                 if (remainder !== 0) {
                     shortDeposit += ' ' + remainder;
                 }
                 $('.item-deposit').text(shortDeposit);
             } else {
                 $('.item-deposit').text(deposit);
             }
             
             if(itemData.itemMonthPrice != null && itemData.itemMonthPrice != 0){
                $('.item-month-price').text(' / ' + itemData.itemMonthPrice);
             }else{
                $('.item-month-price').text(' ');
             }
             
             $('.maintenance-fee-modal').text(' - ' + itemData.itemMaintainPrice + ' ë§Œì›');
             $('.one-line-intro').text(itemData.itemIntro);
             $('.item-area-modal').text(itemData.itemArea);
             
             if(itemData.itemItype == 'O'){
                $('.item-itype').text('ì›ë£¸ ' + '- ' + itemName );
             }else if(itemData.itemItype == 'T'){
                $('.item-itype').text('íˆ¬ë£¸ ' + '- ' + itemName );
             }else if(itemData.itemItype == 'A'){
                $('.item-itype').text('ì•„íŒŒíŠ¸ ' + '- ' + itemName );
             }else if(itemData.itemItype == 'F'){
                $('.item-itype').text('ì˜¤í”¼ìŠ¤í…” ' + '- ' + itemName );
             }
             
             $('.item-floor-modal').text(itemData.itemFloor);
             
             if(itemData.itemParking == 'Y'){
                $('.item-parking-YN').text('ê°€ëŠ¥');
             }else{
                $('.item-parking-YN').text('ë¶ˆê°€ëŠ¥');
             }
             
             if(itemData.itemMoveAvbl == 'Y'){
                $('.item-move-itemMoveAvbl').text('ê°€ëŠ¥');
             }else{
                $('.item-move-itemMoveAvbl').text('ë¶ˆê°€ëŠ¥');
             }
             
             $('.item-direction').text(itemData.itemDirection);
             
             if(itemData.itemElevator == 'Y'){
                $('.item-elevator-YN').text('ìˆìŒ');
             }else{
                $('.item-elevator-YN').text('ì—†ìŒ');
             }
             
             $('.item-kind').text(itemData.itemKind);
             
             if(itemData.itemPet == 'Y'){
                $('.item-pet').text('ê°€ëŠ¥');
             }else if(itemData.itemPet == 'N'){
                $('.item-pet').text('ë¶ˆê°€ëŠ¥');
             }
             
             $('.item-build-date').text(itemData.itemBuildDate);
             $('.item-intro').text(itemData.itemIntro);
             //$('.item-intro-detail').text(itemData.itemIntroDetail);
             $('.item-intro-detail').text($('<div>').text(itemData.itemIntroDetail).html());

             $('#itemNum').val(itemNum);
             
             console.log($("#itemNum").val());
             
             
            $(".modalContainer").show();    //jQuery("#modalContainer").show();
            $('.modalContent').scrollTop(0);
            
         },
         error:function(error){
            alert("ì‹¤íŒ¨");
         }
      });

      
   }
   
   //map
   function itemMap(){
      
   }
   
   var modalContent = document.getElementById("modalContent");
   var modalContainer = document.getElementById("modalContainer");

   // ëª¨ë‹¬ ë‹«ê¸°
   modalContainer.onclick = function(event) {
      if (event.target == modalContainer) {
         modalContainer.style.display = "none";
         document.documentElement.style.overflow = '';
      }
   }
   
   
   
   //ìˆ˜ì •
   function fn_itemUpdate(itemNum){
      //alert(">>>>" + itemNum);
      
        if(confirm("ë§¤ë¬¼ì„ ìˆ˜ì •í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")){
           document.getElementById("itemNum").value = itemNum;
           document.itemForm.action = "/agent/itemUpdate?" + itemNum;
           document.itemForm.submit();
      }else{
         return;
      }
      
   }
   
   //ì‚­ì œ
   function fn_itemDelete(itemNum){
      
      $("#btnDelete").prop("disabled", true);
      
        if(confirm("ë§¤ë¬¼ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì‚­ì œ í›„ì—ëŠ” ë³µêµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")){
            $.ajax({
               type:"POST",
               url:"/agent/itemDeleteProc",
               data:{
                  itemNum: itemNum
               },
               datatype:"JSON",
               cache:false,
               beforeSend:function(xhr){
                  xhr.setRequestHeader("AJAX", "true");
               },
               success:function(res){
                  if(res == 200){
                      alert("ë§¤ë¬¼ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.");
                      $("#btnDelete").prop("disabled", false);
                      location.href = "/agent/itemList";
                  }
                  else if(res == 404){
                     alert("ì‚¬ìš©ì ë˜ëŠ” ë§¤ë¬¼ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
                     $("#btnDelete").prop("disabled", false);
                     return;
                  }
                  else{
                     alert("ë§¤ë¬¼ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.");
                     $("#btnDelete").prop("disabled", false);
                     return;
                  }
               },
               error:function(error){
                  alert("ë§¤ë¬¼ ì‚­ì œ ì¤‘ ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.");
                  $("#btnDelete").prop("disabled", false);
                  return;
               }
            });
         }else{
            $("#btnDelete").prop("disabled", false);
            return;
         }
   }
   
   
   
   </script>
      
</body>
</html>